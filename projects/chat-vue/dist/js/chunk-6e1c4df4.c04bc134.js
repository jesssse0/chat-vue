(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e1c4df4"],{"169d":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"coupon_exchange_container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}],staticClass:"coupon_exchange_login_mask",on:{click:e.toLogin}}),n("div",{staticClass:"coupon_exchange_item_background"},[n("div",{staticClass:"coupon_exchange_title"},[e._v("输入优惠券兑换码")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.couponCode,expression:"couponCode"}],staticClass:"coupon_exchange_input",attrs:{placeholder:"请输入优惠券码"},domProps:{value:e.couponCode},on:{input:function(t){t.target.composing||(e.couponCode=t.target.value)}}}),e.isLogin?n("div",{staticStyle:{"{\n          display":"flex","flex-direction":"column"}},[n("div",{staticClass:"coupon_exchange_content_items"},[n("div",{staticClass:"coupon_exchange_content"},[e._v("手机号码")]),n("div",{staticClass:"coupon_exchange_content_items",style:{marginLeft:"20px",flex:1}},[e._v(" "+e._s(e.userInfo&&e.userInfo.userPhone.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"))+" ")]),n("div",{staticClass:"coupon_exchange_hint_icon",on:{click:e.onPhoneHintCLick}})]),n("div",{staticStyle:{height:"1px","background-color":"#f8f9fc"}}),n("div",{staticClass:"coupon_exchange_content_items"},[n("div",{staticClass:"coupon_exchange_content"},[e._v("验证码")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyCode,expression:"verifyCode"}],staticClass:"coupon_exchange_content_input",style:{flex:1},attrs:{placeholder:"请输入验证码",maxlength:"6",type:"tel"},domProps:{value:e.verifyCode},on:{keyup:e.onVerifyCodeChange,input:function(t){t.target.composing||(e.verifyCode=t.target.value)}}}),n("div",{staticClass:"coupon_exchange_hint_text_color",on:{click:e.sendExchangeSmsCode}},[e._v(" "+e._s(e.codeBtnTitle)+" ")])])]):e._e(),n("div",{staticClass:"coupon_exchange_commit",on:{click:e.toExchangeCoupon}},[e._v("立即领取")])]),n("div",{staticClass:"coupon_exchange_item_background",staticStyle:{"margin-top":"0px"}},[n("div",{staticClass:"coupon_exchange_title"},[e._v("兑换说明")]),n("div",{staticStyle:{height:"1px","background-color":"#f8f9fc","margin-top":"20px"}}),e._l(e.explains,(function(t,o){return n("div",{key:o,staticClass:"coupon_exchange_explain_item"},[n("div",{staticClass:"coupon_exchange_explain_item_num"},[e._v(e._s(o+1))]),n("div",{staticClass:"coupon_exchange_explain_item_content"},[e._v(e._s(t))])])}))],2),n("ExchangeCouponPop",{attrs:{visible:e.successPopVisible,title:"兑换成功",content:'您的兑换码兑换成功，请在"汽车之家App-我的-卡券"中点击查看',btntitle:"查看优惠券"},on:{btnClick:e.gotoViewConpon,closeModal:e.closeSuccessPop}}),n("ExchangeCouponPop",{attrs:{visible:e.failPopVisible,title:"兑换失败",content:e.failContent,btntitle:"我知道了"},on:{btnClick:e.closeFailPop,closeModal:e.closeFailPop}}),n("Loading",{attrs:{loadingObj:e.loadingObj}})],1)},i=[],c=(n("ac1f"),n("5319"),n("4b5a")),a=n("ea8e"),s=n("ed08"),l=n("b96e"),u=n("1b99"),r={name:"coupon_exchange",components:{ExchangeCouponPop:a["a"],Loading:u["a"]},data:function(){return{explains:["在当前页面输入兑换码即可兑换车主权益代金券；","一个兑换码仅可兑换一次，不可重复使用；","兑换成功后，可以在“汽车之家APP﹣我的-卡券”中查看，并使用；","优惠券请在有效期内使用，过期作废，有效期请在“我的-卡券”中查看；","如有疑问请联系客服：400-961-6666;","活动最终解释权归汽车之家所有。"],isAgreePrivateInfo:!1,isLogin:!1,userInfo:void 0,codeBtnTitle:"获取验证码",currentTime:61,intervalId:void 0,successPopVisible:!1,failPopVisible:!1,failContent:"",verifyCode:"",couponCode:"",loadingObj:{loadingState:0,dataHint:"兑换中..."}}},created:function(){var e=this;this.CfwEnvService.setTitle("汽车之家车主权益礼包"),s["a"].pvPage.call(this,{siteId:120,categoryId:1468,subCategoryId:24713}),Object(c["e"])().then((function(t){if(t&&0===t.returncode&&t.result){var n=t.result;e.userInfo=n,e.isLogin=0!==n.userId&&n.userPhone&&11===n.userPhone.length}else e.isLogin=!1})).catch((function(t){e.isLogin=!1})),s["a"].pvClick.call(this,l["l"])},destroyed:function(){this.intervalId&&clearInterval(this.intervalId)},methods:{closeSuccessPop:function(){this.successPopVisible=!1},closeFailPop:function(){this.failPopVisible=!1},gotoViewConpon:function(){s["a"].pvClick.call(this,l["k"]),this.CfwEnvService.open({name:"https://athm.cn/x/tgWLW2c"})},onVerifyCodeChange:function(e){e.target.value=e.target.value.replace(/[^\d]/g,"")},toLogin:function(){this.CfwEnvService.isAutoApp()?this.CfwEnvService.login({success:function(){window.location.reload()}}):window.location.href="https://account.m.autohome.com.cn/login?backurl=".concat(encodeURIComponent(location.href))},onPhoneHintCLick:function(){this.$toast("此号码作为登录号码，不可修改！")},sendExchangeSmsCode:function(){var e=this;if(this.isLogin&&"获取验证码"===this.codeBtnTitle){this.loadingObj.loadingState=1,this.loadingObj.dataHint="获取中...",console.log("--".concat(this.codeBtnTitle));var t=null,n=this;Object(c["f"])({mobile:this.userInfo.userPhone,validcodetype:3}).then((function(o){if(e.loadingObj.loadingState=0,!o||0!==o.returncode)return e.$toast(o?o.message:"获取失败，请稍后再试"),void e.resetSmsStatus();t=setInterval((function(){n.currentTime=e.currentTime-1,n.codeBtnTitle="".concat(n.currentTime,"s"),n.currentTime<=0&&(clearInterval(t),n.resetSmsStatus())}),1e3),e.intervalId=t})).catch((function(t){e.loadingObj.loadingState=0,console.log(t)}))}},toExchangeCoupon:function(){var e=this;!this.couponCode||this.couponCode.length<=0?this.$toast("请输入优惠券码"):!this.verifyCode||this.verifyCode.length<=0?this.$toast("请输入验证码"):(this.loadingObj.loadingState=1,this.loadingObj.dataHint="兑换中...",Object(c["a"])({userId:this.userInfo.userId,mobile_code:this.verifyCode,rand_code:this.couponCode}).then((function(t){e.loadingObj.loadingState=0,t&&0===t.returncode?(e.successPopVisible=!0,s["a"].pvClick.call(e,l["m"])):(e.failContent="兑换失败，请确认券码是否正确",e.failPopVisible=!0)})).catch((function(t){e.loadingObj.loadingState=0,e.failContent="兑换失败，请确认券码是否正确",e.failPopVisible=!0})))},resetSmsStatus:function(){this.codeBtnTitle="获取验证码",this.currentTime=61}}},d=r,p=(n("16fa"),n("2877")),_=Object(p["a"])(d,o,i,!1,null,"3a109622",null);t["default"]=_.exports},"16fa":function(e,t,n){"use strict";n("a620")},"1b99":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{directives:[{name:"show",rawName:"v-show",value:1===e.loadingState,expression:"loadingState === 1"}]},[n("section",{staticClass:"loading"},[n("div",{staticClass:"loading-box"},[n("div",{staticClass:"icon-loading"}),e.dataHint?n("div",{staticClass:"text"},[e._v(e._s(e.dataHint))]):e._e()])])])},i=[],c={name:"Loading",props:{loadingObj:{type:Object,default:function(){return{loadingState:0,dataHint:""}}}},data:function(){return{loadingState:0,dataHint:""}},watch:{loadingObj:{immediate:!0,deep:!0,handler:function(e){0===e.loadingState?this.setSuccess():1===e.loadingState&&this.setLoading(e.dataHint||"加载中...")}}},methods:{setSuccess:function(){this.loadingState=0},setLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"加载中...";this.loadingState=1,this.dataHint=e}}},a=c,s=(n("c339"),n("2877")),l=Object(s["a"])(a,o,i,!1,null,"7f8d0ac6",null);t["a"]=l.exports},"4a16":function(e,t,n){},"4b5a":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p}));var o=n("97af"),i=n("de0c"),c={getMiniProgramUserSign:"".concat(i["f"],"/expand/OwnersDay/ashx/GetUserSign.ashx"),getUserInfo:"".concat(i["b"],"/repair/login/detail"),sendMobileCode:"".concat(i["c"],"/couponapi/couponsms/sendmobilecode.do"),sendCouponMobileCode:"".concat(i["c"],"/couponapi/wechat/sendmobilecode.do"),exchageCoupon:"".concat(i["c"],"/couponapi/wechat/exchange.do"),getActivityInfo:"".concat(i["a"],"/activity/yx/getActivityInfo"),getServerTime:"".concat(i["a"],"/activity/api/welfare/getTime")},a=function(){return Object(o["a"])(c.getMiniProgramUserSign)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])(c.getUserInfo,e)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])(c.sendMobileCode,e)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])(c.sendCouponMobileCode,e)},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["b"])(c.exchageCoupon,e,"form")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])(c.getActivityInfo,e)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])(c.getServerTime,e)}},"4c40":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAGFBMVEX////Gy9Tb3uX19vj5+fvK0Njj5uvX2uGMaibDAAAAuklEQVQ4y62UMQ7CMAxFK5ULuBIHqCp2xMKaiR2GcgF6AsT9UVTC77f0tmZyYn+/1rHT7byKbw/NuE3uuLx+Actw3p7341xWwT0mE8RxlSwRQ9kQxoi5GVUiQQ1slii94mQqLImV2DcKSnKldWAmKEEiiGIEoySCKCK45PmRwCkiJEkTOOVUzx9/gta1Ot4dOjgVwvlz8Qe5JFhELjteFF8tNgO3DzYctyg1NY8BDQ6OGg4njTM+APuuL5G1LsEHE9k6AAAAAElFTkSuQmCC"},"8ede":function(e,t,n){},"9e21":function(e,t,n){"use strict";n("4a16")},a620:function(e,t,n){},ae75:function(e,t,n){},b3ae:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("section",{class:["popup-container"]},[n("div",{staticClass:"mask",on:{click:e.closeModal}}),n("div",{staticClass:"pop-content"},[e._t("default")],2)]):e._e()},i=[],c={name:"PopUp",props:{visible:{type:Boolean,default:!1}},data:function(){return{isShow:!1}},watch:{visible:{immediate:!0,deep:!0,handler:function(e){this.isShow=e}}},methods:{closeModal:function(){this.$emit("closeModal")}}},a=c,s=(n("c85b"),n("2877")),l=Object(s["a"])(a,o,i,!1,null,"df592fea",null);t["a"]=l.exports},b96e:function(e,t,n){"use strict";n.d(t,"o",(function(){return o})),n.d(t,"p",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"q",(function(){return a})),n.d(t,"J",(function(){return s})),n.d(t,"K",(function(){return l})),n.d(t,"I",(function(){return u})),n.d(t,"L",(function(){return r})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"m",(function(){return _})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"s",(function(){return y})),n.d(t,"H",(function(){return S})),n.d(t,"r",(function(){return A})),n.d(t,"E",(function(){return O})),n.d(t,"D",(function(){return P})),n.d(t,"G",(function(){return j})),n.d(t,"F",(function(){return E})),n.d(t,"u",(function(){return I})),n.d(t,"t",(function(){return L})),n.d(t,"B",(function(){return T})),n.d(t,"C",(function(){return M})),n.d(t,"A",(function(){return V})),n.d(t,"z",(function(){return U})),n.d(t,"x",(function(){return H})),n.d(t,"y",(function(){return B})),n.d(t,"w",(function(){return $})),n.d(t,"v",(function(){return F}));var o="czb_activity_immediate_use_click",i="czb_activity_input_mobile_no_click",c="czb_activity_get_sms_code_click",a="czb_jiayou_lingqu_click",s="xiche_exchange_pv",l="xiche_exchange_success_pv",u="xiche_dingdan_click",r="xiche_gengduoquanyi_click",d="quanyi_exchange_pv",p="quanyi_chakan_click",_="quanyi_exchange_success_show",h="grabcoupon_shareswell_home_app_pv",f="grabcoupon_shareswell_home_h5_pv",g="grabcoupon_shiduan_click",v="grabcoupon_get_click",m="grabcoupon_touse_click",b="grabcoupon_remind_click",C="grabcoupon_cancelremind_click",x="grabcoupon_getsuccess_pop_show",w="grabcoupon_getsuccess_pop_mycoupon_click",k="grabcoupon_getsuccess_pop_touse_click",y="shareswell_get_click",S="shareswell_toshare_click",A="shareswell_againshare_click",O="shareswell_swellbefore_touse_click",P="shareswell_swellafter_touse_click",j="shareswell_swell_pop_show",E="shareswell_swell_pop_click",I="shareswell_password_pop_show",L="shareswell_password_pop_click",T="shareswell_result_pv",M="shareswell_result_touse_click",V="shareswell_result_mycoupon_click",U="shareswell_result_more_click",H="shareswell_result_helpsuccess_pop_show",B="shareswell_result_helpsuccess_pop_touse_click",$="shareswell_result_helpsuccess_pop_more_click",F="shareswell_result_fail_more_click"},c339:function(e,t,n){"use strict";n("8ede")},c85b:function(e,t,n){"use strict";n("ae75")},ea8e:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("PopUp",{attrs:{visible:e.visible},on:{closeModal:e.closeModal}},[o("div",{staticClass:"exchange-coupon-pop-container"},[o("div",{staticClass:"exchange-coupon-pop-title"},[e._v(e._s(e.title))]),o("div",{staticClass:"exchange-coupon-pop-content"},[e._v(e._s(e.content))]),o("div",{staticClass:"exchange-coupon-pop-btn",on:{click:e.btnClick}},[e._v(e._s(e.btntitle))]),o("div",{staticClass:"exchange-coupon-pop-close-container",on:{click:e.closeModal}},[o("img",{staticClass:"exchange-coupon-pop-close-icon",attrs:{src:n("4c40"),alt:""}})])])])},i=[],c=n("b3ae"),a={name:"ExchangeCouponPop",components:{PopUp:c["a"]},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"标题"},content:{type:String,default:"内容"},btntitle:{type:String,default:"按钮"}},created:function(){console.log(this.title)},data:function(){return{}},methods:{closeModal:function(){this.$emit("closeModal")},btnClick:function(){this.$emit("btnClick")}}},s=a,l=(n("9e21"),n("2877")),u=Object(l["a"])(s,o,i,!1,null,null,null);t["a"]=u.exports}}]);